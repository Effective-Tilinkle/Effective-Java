# 배열보다는 리스트를 사용하라

### 이유
1. 첫번째 
   1. 배열은 공변이다
   - Sub가 Super의 하위 타입이라면 배열 Sub[]는 배열 Super[]의 하위 타입이 된다. (즉, 함께 변한다)
   2. 제네릭은 불공변이다
   - 서로 다른 타입이 있을 때, 서로 하위 타입도 상위 타입도 아니다.

2. 두번째
   1. 배열은 실체화 된다. 
   - 런타임에도 자신이 담기로 한 원소의 타입을 인지하고 확인한다. 
   2. 제네릭은 타입 정보가 런타임에는 소거된다.
   - 원소 타입을 컴파일 타임에만 검사하며 런타임에는 알수조차 없다는 뜻이다.
   - 소거는 제네릭이 지원되기 전의 레거시 코드와 제네릭 타입을 함께 사용할 수 있게 해주는 메커니즘으로, 자바 5가 제네릭으로 순조롭게 전환될 수 있도로 해줬다.
   

### 실체화 불가 타입
- E, List<E>, List<String> 등, 런타임에는 컴파일 타임보다 타입정보를 적게가지는 타입
- 소거 메커니즘 때문에 매개변수화 타입 가운데 실체화 될 수 있는 타입은 List<?> 와 Map<?, ?> 같은 비한정적 와일드 카드 타입 뿐이다.

### 제네릭 타입과 가변인수 메서드를 함께 쓰면 해석하기 어려운 경고 메시지를 받는다
- 가변인수 메서드를 호출할 때마다 가변인수 매개변수를 담을 배열이 하나 만들어지는데, 이 때 그 배열의 원소가 실체화 불가타입이라면 경고가 발생하는 것이다.
- 문제는 @SafeVarargs로 대처할 수 있다.

   
   
