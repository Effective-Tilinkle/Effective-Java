# 클래스와 멤버의 접근 권한을 최소화하라

### 잘 설계된 컴포넌트란?
- 내부 구현 정보를 외부 컴포넌트로부터 얼마나 잘 숨겼는지
- 오직 API를 통해서만 다른 컴포넌트와 소통, 서로 내부 동작방식에는 개의치 않음
- JAVA에서의 관련 장치 : 접근 제한자
  - 모든 클래스와 멤버의 접근성을 가능한 한 좁혀야 한다.
  - 소프트웨어가 올바로 동작하는 한 항상 가장 낮은 접근 수준 부여
  - public 선언은 API가 되므로, 영원히 관리해야함
    - 한 클래스에서만 사용하는 package-private 혹은 인터페이스는 이를 사용하는 클래스 안에 private static으로 중첩
      - private static으로 중첩시키면 outer class만 접근 가능
  - 가장 중요한 것은 public 일 필요가 없는 클래스를 package-private으로 변경 하는 것

### 수정 순서
1. API 설계 후, 그 외 모든 멤버는 private 
2. 오직 같은 패키지의 다른 클래스가 접근해야 하는 멤버에 한하여 package-private으로 풀어주자
   1. 권한을 자주 풀어준다면 컴포넌트를 분해해야 하는 것은 아닌지 고민 필요
   2. private, package-private 멤버는 모두 해당 클래스의 구현이므로, 공개 API영향을 주지 않지만, Serializable을 구현한 클래스에서는 그 필드들도 의도치 않게 공개 API가 될 수 있으니, 조심하자
   3. public 클래스의 protected는 공개 API이므로 영원히 지원돼야 한다. protected는 적을수록 좋다.
3. public 클래스의 인스턴스 필드는 되도록 public이 아니어야 한다.
4. 상수인 경우 public static final 허용
   1. 상수용이 아닌 객체인 경우, 반드시 불변으로만
5. 단, 클래스에서 public static final 배열필드를 두거나 이 필드를 반환하는 접근자 메서드를 제공해서는 안된다.
   1. 해결책 p100