# 익명 클래스보다는 람다를 사용하라

### 익명함수 사용 시, 타입추론은?
- 컴파일러가 문맥을 보고 기본적으로 타임 추론을 해주나, 간혹 못하는 경우가 있다.
  - 그런 경우에는 프로그래머가 직접 명시해줘야 한다

- 타입을 명시해야 코드가 더 명확할 때만 제외하고는, 람다의 모든 매개변수 타입은 생랴갛자
- NOTE : 제네릭의 로타입을 쓰지 말아야하는 이유, 이는 람다에서 더 중요해지는데, 그 이유는 컴파일러가 타입추론 시, 필요한 정보 대부분을 제네릭에서 얻기 때문이다.

### 람다를 안쓰는 편이 낫다?
- 람다는 이름이 없고, 문서화를 못한다. 그러므로 다음과 같은 때는 람다를 안쓰는 편이 낫다.
1. 람다는 한줄이거나 길어야 세줄안에 끝내야한다. 그 이상이 되면, 가독성이 심하게 나빠진다. 
2. 열거 타입 생성자 안의 람다
   - 열거 타입 생성자 안의 람다는 인스턴스 멤버에 접근이 불가하다. (인스턴스는 런타임에 만들어지기 때문)
   - 따라서, 상수별 동작을 단 몇줄로 구현하기 어렵거나, 인스턴스 필드나 메서드를 사용해야만 하는 상황이라면 상수별 클래스 몸체를 사용해야 한다.

### 람다로 대체 불가능한 경우?
- 람다는 함수형 인터페이스에서만 쓰이므로, 추상 클래스의 인스턴스를 만들 때는 람다를 쓸 수 없으니, 익명 클래스를 써야한다.
- 람다는 자신을 참조할 수 없다. 
  - 람다의 this는 바깥 인스턴스를 가리킨다.
  - 익명 클래서에서의 this는 익명 클래스의 인스턴스 자신을 가리킨다.
    - 그래서 함수 객체가 자신을 참조해야한다면 반드시 익명 클래스를 써야한다.
  
### 주의 사항
- 람다, 익명클래스는 직렬화 형태가 구현별로 (가상머신 별로)다를 수 있으니, 직렬화하는 일은 극히 삼가야한다.
- 직렬화해야만 하는 함수객체가 있다면 (가령 Comparator처럼) private 정적 중첩 클래스의 인스턴스를 사용하자

### 타입 추론 규칙?